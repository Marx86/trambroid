{% load coretags %}
{% load i18n %}
{% if content.paginator %}
<div class="pagination pagination-mini">
  <ul>
    <li{% if not content.has_previous %} class="disabled"{% endif %}><a href="?p={% if content.has_previous %}{{ content.previous_page_number }}{% endif %}">{% trans "Пред." %}</a></li>
    {% if content.has_previous %}
      {% if content.previous_page_number != content.paginator.page_range.0 %}
        <li><a href="?p={{ content.paginator.page_range.0 }}">{{ content.paginator.page_range.0 }}</a></li>
        {% if content.paginator.num_pages == 4 %}
          {% if content.number == 4 %}
            <li><a href="?p={{ content.paginator.page_range.1 }}">{{ content.paginator.page_range.1 }}</a></li>
          {% endif%}
        {% else %}
          <li class="disabled"><a>...</a></li>
        {% endif %}
      {% endif %}
      <li><a href="?p={{ content.previous_page_number }}">{{ content.previous_page_number }}</a></li>
    {% endif %}
    <li class="active"><a href="?p={{ content.number }}">{{ content.number }}</a></li>
    {% if content.has_next %}
      <li><a href="?p={{ content.next_page_number }}">{{ content.next_page_number }}</a></li>
      {% if content.next_page_number != content.paginator.num_pages %}
        {% if content.paginator.num_pages == 4 %}
          {% if content.number == 1 %}
            <li><a href="?p={{ content.paginator.page_range.2 }}">{{ content.paginator.page_range.2 }}</a></li>
          {% endif%}
        {% else %}
          <li class="disabled"><a>...</a></li>
        {% endif %}
        <li><a href="?p={{ content.paginator.num_pages }}">{{ content.paginator.num_pages }}</a></li>
      {% endif %}
    {% endif %}
    <li{% if not content.has_next %} class="disabled"{% endif %}><a href="?p={% if content.has_next %}{{ content.next_page_number }}{% endif %}">{% trans "След." %}</a></li>
  </ul>
</div>
{% endif %}
